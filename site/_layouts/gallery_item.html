---
css:
  dark:
    header-colour: "#3B063A"
    bg-colour: "#42004E"
    bg-checkerdark: "#560045"
    bg-checkerlight: "#7F0840"
    bg-triangle: "#380837"
    sidebar-colour: "#220029"
    text-colour: "#FFE7D1"
    a-colour: "#FFD5B5"
    a-visited-colour: "#FFB289"
    a-hover-colour: "#FFEFE0"
    a-active-colour: "#FFFFFF"
    hr-colour: "#D46453"
    tone-colour: "#FFFFFF"
    rightbox-colour: "#22002980"
  light:
    header-colour: "#3B063A"
    bg-colour: "#F3BDFA"
    bg-checkerdark: "#F9C0B8"
    bg-checkerlight: "#FCD4DE"
    bg-triangle: "#F78D9A"
    sidebar-colour: "#EA667A"
    text-colour: "#58032B"
    a-colour: "#620562"
    a-visited-colour: "#3E0349"
    a-hover-colour: "#8B0573"
    a-active-colour: "#CA2184"
    hr-colour: "#A01843"
    tone-colour: "#58032B"
    rightbox-colour: "#DE3E5980"
---
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Cache-Control" content="max-age=86400">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" href="/icons/favicon.ico">
		<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/icons/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x.png">
		<link rel="manifest" href="/icons/site.webmanifest">
		<link href="/resources/styles/fonts.css" rel="stylesheet" type="text/css" media="all">
		<link href="/resources/styles/checker.css" rel="stylesheet" type="text/css" media="all">
		<title>
			{{ page.fancyname }} | Art Gallery
		</title>
		{% if page.feed_meta == "sieveplate" %}
		<link type="application/atom+xml" rel="alternate" href="{{ site.url }}/sieveplate/feed.xml" title="SievePlate" />
		{% endif %}
		{% seo title=false %}
		<meta name="theme-color" content="{{ page.css.dark.bg-checkerdark }}">
		<style>
			:root {
				--main-font: atkinson-hyperlegible;
				--monospace-font: fira-code;
				--header-font: inconsolata;
				--alt-font: overpass;
				--alt-mono-font: overpass-mono;
				--header-colour: {{ page.css.dark.header-colour }};
				--bg-colour: {{ page.css.dark.bg-colour }};
				--bg-checkerdark: {{ page.css.dark.bg-checkerdark }};
				--bg-checkerlight: {{ page.css.dark.bg-checkerlight }};
				--bg-triangle: {{ page.css.dark.bg-triangle }};
				--sidebar-colour: {{ page.css.dark.sidebar-colour }};
				--text-colour: {{ page.css.dark.text-colour }};
				--a-colour: {{ page.css.dark.a-colour }};
				--a-visited-colour: {{ page.css.dark.a-visited-colour }};
				--a-hover-colour: {{ page.css.dark.a-hover-colour }};
				--a-active-colour: {{ page.css.dark.a-active-colour }};
				--hr-colour: {{ page.css.dark.hr-colour }};
				--tone-colour: {{ page.css.dark.tone-colour }};
				--rightbox-colour: {{ page.css.dark.rightbox-colour }};
			}

			@media (prefers-color-scheme: light) {
				:root {
					--header-colour: {{ page.css.light.header-colour }};
					--bg-colour: {{ page.css.light.bg-colour }};
					--bg-checkerdark: {{ page.css.light.bg-checkerlight }};
					--bg-checkerlight: {{ page.css.light.bg-checkerlight }};
					--bg-triangle: {{ page.css.light.bg-triangle }};
					--sidebar-colour: {{ page.css.light.sidebar-colour }};
					--text-colour: {{ page.css.light.text-colour }};
					--a-colour: {{ page.css.light.a-colour }};
					--a-visited-colour: {{ page.css.light.a-visited-colour }};
					--a-hover-colour: {{ page.css.light.a-hover-colour }};
					--a-active-colour: {{ page.css.light.a-active-colour }};
					--hr-colour: {{ page.css.light.hr-colour }};
					--tone-colour: {{ page.css.light.tone-colour }};
					--rightbox-colour: {{ page.css.light.rightbox-colour }};
				}
			}

			{% if page.pixelated %}
			.gallery-large-img {
				image-rendering: crisp-edges;
			}
			{% endif -%}
		</style>
	</head>

	<body>
		<div class="sidenav-hamburger">
			<section class="dropdown-sidenav-hamburger" id="section-dropdown-sidebar-hamburger">
				<input type="checkbox" name="collapse" id="dropdown-sidebar-hamburger">
				<label class="dropdown-label" for="dropdown-sidebar-hamburger"></label>
				<div class="dropdown-content">
					<span class="dropdown-hider">
						<nav>
							{% include sidebar.html hamburger=true %}
						</nav>
					</span>
				</div>
			</section>
		</div>
		<div class="sidenav">
			<nav>
				<a class="keyboard-nav-link" href="#main-content">Jump to main content</a>
				<a class="keyboard-nav-link" href="#colour-theme-choice">Jump to display controls</a>
				<hr id="keyboard-nav-separator">
				{% include sidebar.html %}
			</nav>
		</div>
		<div class="rightbox">
			{% include display_controls.html %}
		</div>
		<div class="content">
			<header>
				<h1>
					{{ page.fancyname }}
				</h1>
			</header>
			<hr>
			<main id="main-content">
				<div class="row">
					<div class="gallery-large">
						<div class="gallery-large-img">
							<a href="{{ page.src }}" target="_blank" nobrackets="true"><img src="{{ page.src }}" alt="{{ page.alt-text | xml_escape }}"></a>
						</div>
						<div class="desc">
							<p class="desc-metadata">
								{{ page.artname }}<br>
								Dimensions: {{ page.width }} x {{ page.height }}<br>
								File size: {{page.size }}<br>
								Date: {{ page.date | date_to_long_string }}
							</p>
							<details>
								<summary>Image description</summary>
								<p>
									{{ page.image-description }}
								</p>
							</details>
							<p>
								{{ page.caption }}
							</p>
						</div>
					</div>
				</div>
				<p>
					<a href="/art">Back to gallery</a>
				</p>
			</main>
			{% if page.last_modified_at -%}
			<hr>
			<footer>
				<span class="small-text">
					<p>
						Page last modified: {{ page.last_modified_at | date: "%d %B %Y %H:%M:%S UTC%z" }}
					</p>
				</span>
			</footer>
			{%- endif %}
		</div>
		<script>
			function colourThemeDark() {
				document.documentElement.style.setProperty('--header-colour', '{{ page.css.dark.header-colour }}');
				document.documentElement.style.setProperty('--bg-colour', '{{ page.css.dark.bg-colour }}');
				document.documentElement.style.setProperty('--bg-checkerdark', '{{ page.css.dark.bg-checkerdark }}');
				document.documentElement.style.setProperty('--bg-checkerlight', '{{ page.css.dark.bg-checkerlight }}');
				document.documentElement.style.setProperty('--bg-triangle', '{{ page.css.dark.bg-triangle }}');
				document.documentElement.style.setProperty('--sidebar-colour', '{{ page.css.dark.sidebar-colour }}');
				document.documentElement.style.setProperty('--text-colour', '{{ page.css.dark.text-colour }}');
				document.documentElement.style.setProperty('--a-colour', '{{ page.css.dark.a-colour }}');
				document.documentElement.style.setProperty('--a-visited-colour', '{{ page.css.dark.a-visited-colour }}');
				document.documentElement.style.setProperty('--a-hover-colour', '{{ page.css.dark.a-hover-colour }}');
				document.documentElement.style.setProperty('--a-active-colour', '{{ page.css.dark.a-active-colour }}');
				document.documentElement.style.setProperty('--hr-colour', '{{ page.css.dark.hr-colour }}');
				document.documentElement.style.setProperty('--tone-colour', '{{ page.css.dark.tone-colour }}');
				document.documentElement.style.setProperty('--rightbox-colour', '{{ page.css.dark.rightbox-colour }}');
				document.getElementById("colour-theme-dark").checked = true;
				document.getElementById("colour-theme-light").checked = false;
				/*document.getElementById("colour-theme-auto").checked = false;*/
			}

			function colourThemeLight() {
				document.documentElement.style.setProperty('--header-colour', '{{ page.css.light.header-colour }}');
				document.documentElement.style.setProperty('--bg-colour', '{{ page.css.light.bg-colour }}');
				document.documentElement.style.setProperty('--bg-checkerdark', '{{ page.css.light.bg-checkerdark }}');
				document.documentElement.style.setProperty('--bg-checkerlight', '{{ page.css.light.bg-checkerlight }}');
				document.documentElement.style.setProperty('--bg-triangle', '{{ page.css.light.bg-triangle }}');
				document.documentElement.style.setProperty('--sidebar-colour', '{{ page.css.light.sidebar-colour }}');
				document.documentElement.style.setProperty('--text-colour', '{{ page.css.light.text-colour }}');
				document.documentElement.style.setProperty('--a-colour', '{{ page.css.light.a-colour }}');
				document.documentElement.style.setProperty('--a-visited-colour', '{{ page.css.light.a-visited-colour }}');
				document.documentElement.style.setProperty('--a-hover-colour', '{{ page.css.light.a-hover-colour }}');
				document.documentElement.style.setProperty('--a-active-colour', '{{ page.css.light.a-active-colour }}');
				document.documentElement.style.setProperty('--hr-colour', '{{ page.css.light.hr-colour }}');
				document.documentElement.style.setProperty('--tone-colour', '{{ page.css.light.tone-colour }}');
				document.documentElement.style.setProperty('--rightbox-colour', '{{ page.css.light.rightbox-colour }}');
				document.getElementById("colour-theme-dark").checked = false;
				document.getElementById("colour-theme-light").checked = true;
				/*document.getElementById("colour-theme-auto").checked = false;*/
			}

			function colourThemeAuto() {
				let mediaQueryList = window.matchMedia("(prefers-color-scheme: light)");

				if (!mediaQueryList.matches) {
					colourThemeDark();
				} else {
					colourThemeDark();
				}
				/*
				document.getElementById("colour-theme-dark").checked = false;
				document.getElementById("colour-theme-light").checked = false;
				document.getElementById("colour-theme-auto").checked = true;
				*/
			}

			document.addEventListener("DOMContentLoaded", function(event) {
				let cookieColourScheme = localStorage.getItem("colour_theme");

				if (cookieColourScheme) {
					if (cookieColourScheme === "light") {
						colourThemeLight();
					} else if (cookieColourScheme === "dark") {
						colourThemeDark();
					}
				} else {
					colourThemeAuto();
				}
			})

			document.getElementById("colour-theme-light").addEventListener("change", function(event) {
				if (document.getElementById("colour-theme-light").checked) {
					colourThemeLight()
					localStorage.setItem("colour_theme", "light")
				}
			})

			document.getElementById("colour-theme-dark").addEventListener("change", function(event) {
				if (document.getElementById("colour-theme-dark").checked) {
					colourThemeDark()
					localStorage.setItem("colour_theme", "dark")
				}
			})
		</script>
		<script src="/resources/scripts/settings_management_functions.js"></script>
		<script src="/resources/scripts/display_bg_checker.js"></script>
		<script src="/resources/scripts/dropdown_display_controls.js"></script>
		<script src="/resources/scripts/custom_main_content_width.js"></script>
	</body>
</html>
